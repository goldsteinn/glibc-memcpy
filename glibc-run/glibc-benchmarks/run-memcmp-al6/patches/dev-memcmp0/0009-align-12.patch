From 82e9552e695268aa97f4dced1878663daa19da28 Mon Sep 17 00:00:00 2001
From: Noah Goldstein <goldstein.w.n@gmail.com>
Date: Mon, 20 Sep 2021 00:48:29 -0500
Subject: [PATCH 9/9] align 12

---
 sysdeps/x86/sysdep.h                         | 1 +
 sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S | 2 +-
 sysdeps/x86_64/multiarch/memcmp-evex-movbe.S | 2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/sysdeps/x86/sysdep.h b/sysdeps/x86/sysdep.h
index 4895179c10..cd3b626ddd 100644
--- a/sysdeps/x86/sysdep.h
+++ b/sysdeps/x86/sysdep.h
@@ -81,6 +81,7 @@ enum cf_protection_level
 #define	ENTRY_P2ALIGN(name, alignment)					      \
   .globl C_SYMBOL_NAME(name);						      \
   .type C_SYMBOL_NAME(name),@function;					      \
+  .align ALIGNARG(12);                                        \
   .align ALIGNARG(alignment);						      \
   C_LABEL(name)								      \
   cfi_startproc;							      \
diff --git a/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S b/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S
index 43476b8d71..ec65367fd9 100644
--- a/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S
+++ b/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S
@@ -557,6 +557,6 @@ L(between_2_3):
 	ret
 
 # endif
-
+    .p2align 12
 END (MEMCMP)
 #endif
diff --git a/sysdeps/x86_64/multiarch/memcmp-evex-movbe.S b/sysdeps/x86_64/multiarch/memcmp-evex-movbe.S
index d84b5d382c..7cd458a166 100644
--- a/sysdeps/x86_64/multiarch/memcmp-evex-movbe.S
+++ b/sysdeps/x86_64/multiarch/memcmp-evex-movbe.S
@@ -551,6 +551,6 @@ L(between_2_3):
 	subl	%ecx, %eax
 	ret
 # endif
-    
+    .p2align 12    
 END (MEMCMP)
 #endif
-- 
2.25.1

