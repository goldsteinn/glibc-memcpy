From 9e77fc768e9716a8b7fcd1a670e497ac69f551b4 Mon Sep 17 00:00:00 2001
From: Noah Goldstein <goldstein.w.n@gmail.com>
Date: Tue, 7 Sep 2021 14:42:35 -0400
Subject: [PATCH 08/13] vzeroupper for build

---
 sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S b/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S
index 94d4700f40..6923133682 100644
--- a/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S
+++ b/sysdeps/x86_64/multiarch/memcmp-avx2-movbe.S
@@ -178,7 +178,8 @@ ENTRY (MEMCMP)
 # endif
 	/* NB: eax must be zero to reach here.  */
 L(return_neq0):
-	VZEROUPPER_RETURN
+L(return_vzeroupper):
+	ZERO_UPPER_VEC_REGISTERS_RETURN
 
 # ifdef USE_AS_BCMP
 	.p2align 5
@@ -280,8 +281,7 @@ L(return_vec_0):
 	movzbl	(%rdi, %rax), %eax
 	subl	%ecx, %eax
 #  endif
-L(return_vzeroupper):
-	ZERO_UPPER_VEC_REGISTERS_RETURN
+	VZEROUPPER_RETURN
 
 	.p2align 4
 L(return_vec_1):
-- 
2.25.1

