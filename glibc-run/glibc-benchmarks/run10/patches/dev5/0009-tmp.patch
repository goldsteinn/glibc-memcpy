From e95d3f697c5a9eb0f389b18f64fb72bb0b0ce267 Mon Sep 17 00:00:00 2001
From: Noah Goldstein <goldstein.w.n@gmail.com>
Date: Thu, 26 Aug 2021 17:19:02 -0400
Subject: [PATCH 9/9] tmp

---
 sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S b/sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S
index 0858ef4387..ee21c40b08 100644
--- a/sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S
+++ b/sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S
@@ -591,6 +591,8 @@ L(more_8x_vec):
 #else
 	jb	L(more_8x_vec_backward_test)
 #endif
+	cmpq	$(VEC_SIZE * 16), %rdx
+	jbe	L(more_8x_vec_forward)
 
 	/* Check if non-temporal move candidate.  */
 #if (defined USE_MULTIARCH || VEC_SIZE == 16) && IS_IN (libc)
-- 
2.25.1

